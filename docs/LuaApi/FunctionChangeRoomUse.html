
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
            
<html>

<meta content="text/html; charset=UTF-8" http-equiv="content-type">
            
<head>
<title>Пользовательские дополнения - Lua API - FunctionChangeRoomUse</title>
<link href="LuaApi.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1>Пользовательские дополнения</h1>
<p><a href="../Index.html">На главную</a></p>
<hr>
<p></p>
<h2> changeRoom.Use( avatarName, template, primary, trio2, trio3, pet )</h2>
<p></p>
<p>Попытка применить изменения, выбранные в парикмахерской. Передаются индексы вариаций внешнего вида каждого персонажа. Описывается как основной персонаж, так и дополнительные (если есть), включая питомца.</p>
<p></p>
<pre>
-- система
функция реализована в UI

-- библиотека:
changeRoom

-- объявление:
function Use( isMale, primary, trio2, trio3, pet, price )

-- параметры:
isMale: boolean - пол главного персонажа
primary: table - таблица с информацией, задающей вариацию для основного персонажа игрока, поля описаны ниже
trio2: table or nil - если не трио, то nil, иначе таблица с информацией, задающей вариацию для второго персонажа игрока
trio3: table or nil - если не трио, то nil, иначе таблица с информацией, задающей вариацию для третьего персонажа игрока
pet: table or nil - если настраиваемого питомца нет, то nil, иначе таблица с информацией, задающей вариацию для питомца
petIndex: number (integer) or nil - если настраиваемого питомца нет, то nil, иначе индекс облика пета
price: number (integer) - цена изменений. Внимание! Обязательна для передачи на сервер, для проверки стоимости.

поля для таблиц, задающих вариацию персонажа:
 skinTexture: number (integer) - индекс вариации тела [0..]
 skinColor: number (integer) - индекс вариации цвета тела [0..]
 hairType: number (integer) - индекс типа волос [0..]
 hairColor: number (integer) - индекс цвета волос [0..], может игнорироваться (например, для гибберлингов)
 face: number (integer) - индекс типа лица [0..]
 facialType: number (integer) - индекс типа особенностей (лица или украшений) [0..]
 additional: number (integer) - индекс варианта татуировки [0..]
 morphPresetIndex: number (integer) - индекс варианта пропорций персонажа [0..]

для дополнительных персонажей (второго и третьего из трио), к полям таблицы с вариацией добавляются следующие:
 name: WString - имя персонажа
 isMale: boolean - пол персонажа

для питомца к полям таблицы с вариацией добавляется поле имени:
 name: WString - имя питомца

-- возвращаемые значения:
нет

-- примеры:
changeRoom.Use( true, primary, nil, nil, pet )
</pre>
<p></p>
<h4>Search: "CategoryLuaApi" "CategoryChangeRoom" </h4>
<p></p>
<a href="CategoryChangeRoom.html">CategoryChangeRoom</a>
<br><a href="EventChangeRoomCharacterSceneCameraReady.html">EventChangeRoomCharacterSceneCameraReady</a>
<br><a href="EventChangeRoomStarted.html">EventChangeRoomStarted</a>
<br><a href="EventChangeRoomZoomTriggerChanged.html">EventChangeRoomZoomTriggerChanged</a>
<br><a href="FunctionChangeRoomChargenShowHelm.html">FunctionChangeRoomChargenShowHelm</a>
<br><a href="FunctionChangeRoomGetAvatarTemplate.html">FunctionChangeRoomGetAvatarTemplate</a>
<br><a href="FunctionChangeRoomGetCosts.html">FunctionChangeRoomGetCosts</a>
<br><a href="FunctionChangeRoomGetPlayerIndexes.html">FunctionChangeRoomGetPlayerIndexes</a>
<br><a href="FunctionChangeRoomGetSceneAvatarInfo.html">FunctionChangeRoomGetSceneAvatarInfo</a>
<br><a href="FunctionChangeRoomIsZoomEnabled.html">FunctionChangeRoomIsZoomEnabled</a>
<br><a href="FunctionChangeRoomIsZoomOnFace.html">FunctionChangeRoomIsZoomOnFace</a>
<br><a href="FunctionChangeRoomIsZoomOnFar.html">FunctionChangeRoomIsZoomOnFar</a>
<br><a href="FunctionChangeRoomRemoveScene.html">FunctionChangeRoomRemoveScene</a>
<br><a href="FunctionChangeRoomResetSceneCharacterRotation.html">FunctionChangeRoomResetSceneCharacterRotation</a>
<br><a href="FunctionChangeRoomRotateSceneCharacter.html">FunctionChangeRoomRotateSceneCharacter</a>
<br><a href="FunctionChangeRoomSetCameraPath.html">FunctionChangeRoomSetCameraPath</a>
<br><a href="FunctionChangeRoomSetChargenEquipType.html">FunctionChangeRoomSetChargenEquipType</a>
<br><a href="FunctionChangeRoomSetScene.html">FunctionChangeRoomSetScene</a>
<br><a href="FunctionChangeRoomSetSceneAvatarByTemplate.html">FunctionChangeRoomSetSceneAvatarByTemplate</a>
<br><a href="FunctionChangeRoomSetSceneCharacterMouseRotation.html">FunctionChangeRoomSetSceneCharacterMouseRotation</a>
<br><a href="FunctionChangeRoomSetSceneCharacterPos.html">FunctionChangeRoomSetSceneCharacterPos</a>
<br><a href="FunctionChangeRoomSetSceneCharacterScaleFactor.html">FunctionChangeRoomSetSceneCharacterScaleFactor</a>
<br><a href="FunctionChangeRoomSetSceneCharacterVariation.html">FunctionChangeRoomSetSceneCharacterVariation</a>
<br><a href="FunctionChangeRoomToggleZoom.html">FunctionChangeRoomToggleZoom</a>
<br><a href="FunctionChangeRoomUse.html">FunctionChangeRoomUse</a>
<p></p>
<hr>
<a href="CategoryLuaApi.html">CategoryLuaApi</a>
<a href="CategoryFunction.html">CategoryFunction</a>
<a href="CategoryChangeRoom.html">CategoryChangeRoom</a>
<hr>
<p><a href="../Index.html">На главную</a></p>
</body>
</html>
