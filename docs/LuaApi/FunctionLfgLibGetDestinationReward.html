
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
            
<html>

<meta content="text/html; charset=UTF-8" http-equiv="content-type">
            
<head>
<title>Пользовательские дополнения - Lua API - FunctionLfgLibGetDestinationReward</title>
<link href="LuaApi.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1>Пользовательские дополнения</h1>
<p><a href="../Index.html">На главную</a></p>
<hr>
<p></p>
<h2>lfgLib.GetDestinationReward( destinationId )</h2>
<p></p>
<p>Получить описание награды за прохождение локации.</p>
<p></p>
<pre>
-- библиотека:
lfgLib

-- объявление:
function GetDestinationReward( destinationId )

-- параметры:
destinationId: LfgDestinationId - идентификатор целевой локации

-- возвращаемое значение
table or nil - таблица с описанием, если информация получена:
  money: number (int) - сумма в награду
  experience: number (int) - опыт в награду

  loyalty: number (int) - получаемая верность гильдии
  authority: number (int) - получаемое влияние в гильдии

  mandatoryItems: table of ObjectId - список идентификаторов наградных предметов. которые известны
  mandatoryItemsCount: number (int) - количество наградных предметов (может быть больше, чем mandatoryItems, если некоторые награды не известны)
  alternativeItems: table of ObjectId - список идентификаторов альтернативных наградных предметов

  reputations: table of table - индексированный с 0 список значений репутационных наград для разных фракций. Поля каждого пункта:
    faction: WString - имя фракции
    value: number (int) - на сколько повысится репутация

  currencies: table of table - индексированный с 0 список наград альтернативной валютой. Поля каждого пункта:
    currencyId: СurrencyId - имя альтернативной валюты
    value: number (int) - величина награды

  unlocks: table of ObjectId - индексированный с 0 список идентификаторов возможностей (анлоков), даваемых в награду

-- пример:
local destinationtReward = lfgLib.GetDestinationReward( questId )
if destinationtReward then
  LogInfo( "Quest reward: ", destinationtReward .money )

  for i = 0, GetTableSize( destinationtReward .currencies ) - 1 do
    local currencyId = destinationtReward .currencies[ i ]
    local currencyInfo = avatar.GetCurrencyInfo( currencyId )
  end
end
</pre>
<p></p>
<h4>Search: "CategoryLuaApi" "CategoryLfgLib" </h4>
<p></p>
<a href="EnumLfgActionFail.html">EnumLfgActionFail</a>
<br><a href="EnumLFGEventDifficulty.html">EnumLFGEventDifficulty</a>
<br><a href="EnumLfgRole.html">EnumLfgRole</a>
<br><a href="EnumLfgVoteType.html">EnumLfgVoteType</a>
<br><a href="EventLfgActionFail.html">EventLfgActionFail</a>
<br><a href="EventLfgDepartAvailableChanged.html">EventLfgDepartAvailableChanged</a>
<br><a href="EventLfgDestinationAvailableChanged.html">EventLfgDestinationAvailableChanged</a>
<br><a href="EventLfgDestinationChanged.html">EventLfgDestinationChanged</a>
<br><a href="EventLfgDestinationsListChanged.html">EventLfgDestinationsListChanged</a>
<br><a href="EventLfgDestinationVisitsChanged.html">EventLfgDestinationVisitsChanged</a>
<br><a href="EventLfgJoin.html">EventLfgJoin</a>
<br><a href="EventLfgLeave.html">EventLfgLeave</a>
<br><a href="EventLfgVote.html">EventLfgVote</a>
<br><a href="EventLfgVoteTerminate.html">EventLfgVoteTerminate</a>
<br><a href="FunctionLfgLibDepart.html">FunctionLfgLibDepart</a>
<br><a href="FunctionLfgLibEnableReplicateDestinations.html">FunctionLfgLibEnableReplicateDestinations</a>
<br><a href="FunctionLfgLibGetCurrentDestination.html">FunctionLfgLibGetCurrentDestination</a>
<br><a href="FunctionLfgLibGetDepartRequirements.html">FunctionLfgLibGetDepartRequirements</a>
<br><a href="FunctionLfgLibGetDestinationCategories.html">FunctionLfgLibGetDestinationCategories</a>
<br><a href="FunctionLfgLibGetDestinationRequirements.html">FunctionLfgLibGetDestinationRequirements</a>
<br><a href="FunctionLfgLibGetDestinationReward.html">FunctionLfgLibGetDestinationReward</a>
<br><a href="FunctionLfgLibGetDestinations.html">FunctionLfgLibGetDestinations</a>
<br><a href="FunctionLfgLibGetDestinationsInCategory.html">FunctionLfgLibGetDestinationsInCategory</a>
<br><a href="FunctionLfgLibGetDestinationTimers.html">FunctionLfgLibGetDestinationTimers</a>
<br><a href="FunctionLfgLibGetDestinationVisits.html">FunctionLfgLibGetDestinationVisits</a>
<br><a href="FunctionLfgLibGetRoles.html">FunctionLfgLibGetRoles</a>
<br><a href="FunctionLfgLibIsAvailable.html">FunctionLfgLibIsAvailable</a>
<br><a href="FunctionLfgLibIsDepartAvailable.html">FunctionLfgLibIsDepartAvailable</a>
<br><a href="FunctionLfgLibIsDestinationAvailable.html">FunctionLfgLibIsDestinationAvailable</a>
<br><a href="FunctionLfgLibIsFreePass.html">FunctionLfgLibIsFreePass</a>
<br><a href="FunctionLfgLibIsRoleAvailable.html">FunctionLfgLibIsRoleAvailable</a>
<br><a href="FunctionLfgLibJoin.html">FunctionLfgLibJoin</a>
<br><a href="FunctionLfgLibLeave.html">FunctionLfgLibLeave</a>
<br><a href="FunctionLfgLibVoteNo.html">FunctionLfgLibVoteNo</a>
<br><a href="FunctionLfgLibVoteYes.html">FunctionLfgLibVoteYes</a>
<br><a href="LfgDestinationCategoryId.html">LfgDestinationCategoryId</a>
<br><a href="LfgDestinationId.html">LfgDestinationId</a>
<p></p>
<hr>
<a href="CategoryLuaApi.html">CategoryLuaApi</a>
<a href="CategoryFunction.html">CategoryFunction</a>
<a href="CategoryLfgLib.html">CategoryLfgLib</a>
<hr>
<p><a href="../Index.html">На главную</a></p>
</body>
</html>
