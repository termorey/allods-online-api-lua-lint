
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
            
<html>

<meta content="text/html; charset=UTF-8" http-equiv="content-type">
            
<head>
<title>Пользовательские дополнения - Lua API - FunctionGuildGetMemberInfo</title>
<link href="LuaApi.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1>Пользовательские дополнения</h1>
<p><a href="../Index.html">На главную</a></p>
<hr>
<p></p>
<h2> guild.GetMemberInfo( memberId )</h2>
<p></p>
<p>Возвращает информацию об одном члене гильдии.</p>
<p></p>
<p>Каждый член гильдии имеет уникальный идентификатор. Этот идентификатор не совпадает с идентификатором игрока в игре.</p>
<p></p>
<p>Типы отличия см. в <a href="EnumTabardType.html">ENUM_TabardType_...</a>.</p>
<p></p>
<pre>
-- библиотека:
guild

-- объявление:
function GetMemberInfo( memberId )

-- параметры:
memberId: ObjectId - идентификатор члена гильдии

-- возвращаемое значение
table or nil - таблица с информацией о персонаже из гильдии, если найден:
  id: ObjectId - идентификатор этого члена гильдии
  playerId: ObjectId - идентификатор персонажа или nil, если его нет в игре (порвалась связь и т.п.)
  name: WString - имя персонажа
  level: number (int) - уровень игрока
  onlineStatus: "ENUM_AvatarOnlineStatus_..." (string) - онлайн-статус аватара, см. значения энама "ENUM_AvatarOnlineStatus_..."; при изменении приходит событие EVENT_GUILD_MEMBER_ONLINE_STATUS_CHANGED
  authority: number (integer) - влияние этого члена гильдии
  monthAuthority: number (integer) - влияние этого члена гильдии, полученное за месяц
  weekAuthority: number (integer) - влияние этого члена гильдии, полученное за неделю
  dayAuthority: number (integer) - влияние этого члена гильдии, полученное за день
  fame: number (integer) - известность этого члена гильдии
  monthFame: number (integer) - известность этого члена гильдии, полученная за месяц
  weekFame: number (integer) - известность этого члена гильдии, полученная за неделю
  dayFame: number (integer) - известность этого члена гильдии, полученная за день
  loyalty: number (integer) - верность этого члена гильдии (1..100)
  description: WString - описание игрока
  zoneName: WString - локализованное название зоны в которой находится игрок
  subZoneName: WString - локализованное название подзоны (пустая строка, если аватар не в подзоне)
  class: WString - локализованное название класса игрока
  sysClassName: string - внутриигровое название класса игрока
  tabardType: number (enum ENUM_TabardType_...) - тип отличия
  sysTabardType: string (enum "ENUM_TabardType_...") - строковое имя типа отличия
  joinTime: table - дата вступления в гильдию представлена полями y,m,d  - год, месяц, день
  lastOnlineTime: table - время последнего входа в игру представлена полями y,m,d,h,min,s  - год, месяц, день, час, минута, секунда (в формате LuaFullDateTime)
  profit: table или nil - nil если нет информации; иначе данные о заработанных для гильдии ресурсах в виде списка (индексированного начиная от 0) таблиц с полями:
    key: CurrencyId - идентификатор валюты
    value: table - таблица с полями:
      totalProfit: number (integer) - количество валюты за всё время
      profitForPeriod: number (integer) - количество валюты за текущую неделю (начиная с четверга)

-- пример:
local members = guild.GetMembers()
if members[ 0 ] then
  local memberInfo = guild.GetMemberInfo( members[ 0 ] )
  if memberInfo then
    local name = memberInfo.name
  end
end
</pre>
<p></p>
<p>См. также</p>
<ul><li><p> <a href="EnumAvatarOnlineStatus.html">"ENUM_AvatarOnlineStatus_..."</a></p></li></ul>
<ul><li><p> <a href="EventGuildMemberOnlineStatusChanged.html">EVENT_GUILD_MEMBER_ONLINE_STATUS_CHANGED</a></p></li></ul>
<ul><li><p> <a href="LuaFullDateTime.html"> LuaFullDateTime</a></p></li></ul>
<p></p>
<h4>Search: "CategoryLuaApi" "CategoryGuildMember" </h4>
<p></p>
<a href="EnumAvatarOnlineStatus.html">EnumAvatarOnlineStatus</a>
<br><a href="EnumTabardType.html">EnumTabardType</a>
<br><a href="EventGuildMemberAdded.html">EventGuildMemberAdded</a>
<br><a href="EventGuildMemberAuthorityChanged.html">EventGuildMemberAuthorityChanged</a>
<br><a href="EventGuildMemberBalanceChanged.html">EventGuildMemberBalanceChanged</a>
<br><a href="EventGuildMemberChanged.html">EventGuildMemberChanged</a>
<br><a href="EventGuildMemberDayAuthorityChanged.html">EventGuildMemberDayAuthorityChanged</a>
<br><a href="EventGuildMemberLoayaltyChanged.html">EventGuildMemberLoayaltyChanged</a>
<br><a href="EventGuildMemberMonthAuthorityChanged.html">EventGuildMemberMonthAuthorityChanged</a>
<br><a href="EventGuildMemberOnlineStatusChanged.html">EventGuildMemberOnlineStatusChanged</a>
<br><a href="EventGuildMemberRankChanged.html">EventGuildMemberRankChanged</a>
<br><a href="EventGuildMemberRemoved.html">EventGuildMemberRemoved</a>
<br><a href="EventGuildMemberTabardChanged.html">EventGuildMemberTabardChanged</a>
<br><a href="EventGuildMemberWeekAuthorityChanged.html">EventGuildMemberWeekAuthorityChanged</a>
<br><a href="FunctionGuildCanDistributeTabard.html">FunctionGuildCanDistributeTabard</a>
<br><a href="FunctionGuildChangeRank.html">FunctionGuildChangeRank</a>
<br><a href="FunctionGuildCorrectMemberBalance.html">FunctionGuildCorrectMemberBalance</a>
<br><a href="FunctionGuildDistributeTabard.html">FunctionGuildDistributeTabard</a>
<br><a href="FunctionGuildGetAvatarHistory.html">FunctionGuildGetAvatarHistory</a>
<br><a href="FunctionGuildGetAvatarMemberId.html">FunctionGuildGetAvatarMemberId</a>
<br><a href="FunctionGuildGetLeader.html">FunctionGuildGetLeader</a>
<br><a href="FunctionGuildGetLimits.html">FunctionGuildGetLimits</a>
<br><a href="FunctionGuildGetMember.html">FunctionGuildGetMember</a>
<br><a href="FunctionGuildGetMemberBalance.html">FunctionGuildGetMemberBalance</a>
<br><a href="FunctionGuildGetMemberDescription.html">FunctionGuildGetMemberDescription</a>
<br><a href="FunctionGuildGetMemberInfo.html">FunctionGuildGetMemberInfo</a>
<br><a href="FunctionGuildGetMembers.html">FunctionGuildGetMembers</a>
<br><a href="FunctionGuildGetMissions.html">FunctionGuildGetMissions</a>
<br><a href="FunctionGuildGetProfitableCurrencies.html">FunctionGuildGetProfitableCurrencies</a>
<br><a href="FunctionGuildGetRank.html">FunctionGuildGetRank</a>
<br><a href="FunctionGuildGetRights.html">FunctionGuildGetRights</a>
<br><a href="FunctionGuildGetTabardBonus.html">FunctionGuildGetTabardBonus</a>
<br><a href="FunctionGuildIsLeader.html">FunctionGuildIsLeader</a>
<br><a href="FunctionGuildRaiseFunds.html">FunctionGuildRaiseFunds</a>
<br><a href="FunctionGuildSetMemberDescription.html">FunctionGuildSetMemberDescription</a>
<p></p>
<hr>
<a href="CategoryLuaApi.html">CategoryLuaApi</a>
<a href="CategoryFunction.html">CategoryFunction</a>
<a href="CategoryGuild.html">CategoryGuild</a>
<a href="CategoryGuildMember.html">CategoryGuildMember</a>
<hr>
<p><a href="../Index.html">На главную</a></p>
</body>
</html>
