
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
            
<html>

<meta content="text/html; charset=UTF-8" http-equiv="content-type">
            
<head>
<title>Пользовательские дополнения - Lua API - FunctionRemortCreationGetAvatarTemplate</title>
<link href="LuaApi.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1>Пользовательские дополнения</h1>
<p><a href="../Index.html">На главную</a></p>
<hr>
<p></p>
<h2> remortCreation.GetAvatarTemplate( templateIndexes )</h2>
<p></p>
<p>Функция возвращает информацию об указанном шаблоне аватара. Вместе с шаблоном возвращается информация о вариациях персонажей, которую предварительно нужно запросить с сервера: <a href="FunctionRemortCreationRequestAllVariations.html"> remortCreation.RequestAllVariations()</a>.</p>
<p></p>
<pre>
-- система
функция реализована в UI

-- библиотека:
remortCreation

-- объявление:
function GetAvatarTemplate( templateIndexes )

-- параметры:
templateIndexes: table - таблица с информацией, задающей шаблон для аватара, поля:
  faction: number (int) - индекс фракции [0..]
  race: number (int) - индекс расы [0..]
  class: number (int) - индекс класса [0..]
  sex: number (int) - индекс пола [0..]

-- возвращаемые значения:
table or nil - если шаблон найден, то таблица со следующими полями (иначе nil):
 hasActualVariationInfo: boolean - содержит ли таблица актуальную информацию о вариациях персонажей (информация может быть неактуальной в случае ошибок данных, либо если она не была запрошена, либо еще не получена с сервера)
 primaryVariationTemplateInfo: table - таблица с количеством вариаций для главного персонажа, описание полей см. ниже
 isTrio: boolean - true, если персонаж представляет собой троицу (например, гибберлинги), для троицы возвращаются дополнительные поля:
  maleVariationTemplateInfo: table - таблица с количеством вариаций для дополнительных персонажей мужского пола, описание полей см. ниже
  femaleVariationTemplateInfo: table - таблица с количеством вариаций для дополнительных персонажей женского пола, описание полей см. ниже
 pets: nil or table of table - при наличии настраиваемого питомца - таблица с таблицами описаний обликов петов, каждая из которых с количеством вариаций для него, описание полей см. ниже, иначе nil. Замечание: для питомца реально используется только поле "face".


поля для таблиц с количеством вариаций:
 skins: таблица, описана ниже - доступные вариации тела
 skinColors: таблица, описана ниже - доступные вариации тела
 hairs: таблица, описана ниже - доступные прически
 hairColors: таблица, описана ниже, или nil - доступные цвета волос, если есть
 faces: таблица, описана ниже - доступные варианты лица
 facials: таблица, описана ниже - доступные типы особенностей (лица или украшений)
 additionals: таблица, описана ниже - доступные варианты татуировок
 morphPresets: таблица, описана ниже - доступные варианты пропорций персонажа

таблица названий:
 table of pair&lt;number (int), boolean&gt; - индексированная [0..] таблица с true

-- примеры:
local avatarTemplate = remortCreation.GetAvatarTemplate( templateIndexes )
if avatarTemplate then
 LogInfo( "primary skin count: ", avatarTemplate.primaryVariationCount.skinTexture )
 if avatarTemplate.petVariationCount then
  LogInfo( "pet variation count: ", avatarTemplate.petVariationCount.face )
 end
end
</pre>
<p></p>
<h4>Search: "CategoryLuaApi" "CategoryRemortCreation" </h4>
<p></p>
<a href="CategoryRemortCreation.html">CategoryRemortCreation</a>
<br><a href="EventRemortCharacterSceneCameraReady.html">EventRemortCharacterSceneCameraReady</a>
<br><a href="EventRemortZoomTriggerChanged.html">EventRemortZoomTriggerChanged</a>
<br><a href="FunctionRemortCreationChargenShowHelm.html">FunctionRemortCreationChargenShowHelm</a>
<br><a href="FunctionRemortCreationCreateAvatar.html">FunctionRemortCreationCreateAvatar</a>
<br><a href="FunctionRemortCreationGetAvatarTemplate.html">FunctionRemortCreationGetAvatarTemplate</a>
<br><a href="FunctionRemortCreationGetAvatarTemplatesInfo.html">FunctionRemortCreationGetAvatarTemplatesInfo</a>
<br><a href="FunctionRemortCreationGetAvatarTemplatesRaceClassInfo.html">FunctionRemortCreationGetAvatarTemplatesRaceClassInfo</a>
<br><a href="FunctionRemortCreationGetSceneAvatarInfo.html">FunctionRemortCreationGetSceneAvatarInfo</a>
<br><a href="FunctionRemortCreationGetVariationsStatus.html">FunctionRemortCreationGetVariationsStatus</a>
<br><a href="FunctionRemortCreationIsZoomEnabled.html">FunctionRemortCreationIsZoomEnabled</a>
<br><a href="FunctionRemortCreationIsZoomOnFace.html">FunctionRemortCreationIsZoomOnFace</a>
<br><a href="FunctionRemortCreationIsZoomOnFar.html">FunctionRemortCreationIsZoomOnFar</a>
<br><a href="FunctionRemortCreationRemoveScene.html">FunctionRemortCreationRemoveScene</a>
<br><a href="FunctionRemortCreationRemoveSceneAvatar.html">FunctionRemortCreationRemoveSceneAvatar</a>
<br><a href="FunctionRemortCreationRequestAllVariations.html">FunctionRemortCreationRequestAllVariations</a>
<br><a href="FunctionRemortCreationResetAvatar.html">FunctionRemortCreationResetAvatar</a>
<br><a href="FunctionRemortCreationResetSceneCharacterRotation.html">FunctionRemortCreationResetSceneCharacterRotation</a>
<br><a href="FunctionRemortCreationRotateSceneCharacter.html">FunctionRemortCreationRotateSceneCharacter</a>
<br><a href="FunctionRemortCreationSetCameraPath.html">FunctionRemortCreationSetCameraPath</a>
<br><a href="FunctionRemortCreationSetChargenEquipType.html">FunctionRemortCreationSetChargenEquipType</a>
<br><a href="FunctionRemortCreationSetScene.html">FunctionRemortCreationSetScene</a>
<br><a href="FunctionRemortCreationSetSceneAvatar.html">FunctionRemortCreationSetSceneAvatar</a>
<br><a href="FunctionRemortCreationSetSceneAvatarByTemplate.html">FunctionRemortCreationSetSceneAvatarByTemplate</a>
<br><a href="FunctionRemortCreationSetSceneCharacterMouseRotation.html">FunctionRemortCreationSetSceneCharacterMouseRotation</a>
<br><a href="FunctionRemortCreationSetSceneCharacterPos.html">FunctionRemortCreationSetSceneCharacterPos</a>
<br><a href="FunctionRemortCreationSetSceneCharacterScaleFactor.html">FunctionRemortCreationSetSceneCharacterScaleFactor</a>
<br><a href="FunctionRemortCreationSetSceneCharacterVariation.html">FunctionRemortCreationSetSceneCharacterVariation</a>
<br><a href="FunctionRemortCreationToggleZoom.html">FunctionRemortCreationToggleZoom</a>
<p></p>
<hr>
<a href="CategoryLuaApi.html">CategoryLuaApi</a>
<a href="CategoryFunction.html">CategoryFunction</a>
<a href="CategoryRemortCreation.html">CategoryRemortCreation</a>
<a href="CategoryRemort.html">CategoryRemort</a>
<hr>
<p><a href="../Index.html">На главную</a></p>
</body>
</html>
