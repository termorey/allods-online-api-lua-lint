
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
            
<html>

<meta content="text/html; charset=UTF-8" http-equiv="content-type">
            
<head>
<title>Пользовательские дополнения - Lua API - FunctionChangeRoomGetAvatarTemplate</title>
<link href="LuaApi.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1>Пользовательские дополнения</h1>
<p><a href="../Index.html">На главную</a></p>
<hr>
<p></p>
<h2> changeRoom.GetAvatarTemplate( isMale )</h2>
<p></p>
<p>Функция возвращает информацию об указанном шаблоне аватара. Вместе с шаблоном возвращается информация о вариациях персонажей.</p>
<p></p>
<pre>
-- система
функция реализована в UI

-- библиотека:
changeRoom

-- объявление:
function GetAvatarTemplate( isMale )

-- параметры:
isMale: boolean - true, если требуются настройки по мужскому персонажу, иначе по женскому

-- возвращаемые значения:
table or nil - если шаблон найден, то таблица со следующими полями (иначе nil):
 hasActualVariationInfo: boolean - содержит ли таблица актуальную информацию о вариациях персонажей (информация может быть неактуальной в случае ошибок данных, либо если она не была запрошена, либо еще не получена с сервера)
 primaryVariationTemplateInfo: table - таблица с количеством вариаций для главного персонажа, описание полей см. ниже
 isTrio: boolean - true, если персонаж представляет собой троицу (например, гибберлинги), для троицы возвращаются дополнительные поля:
  maleVariationTemplateInfo: table - таблица с количеством вариаций для дополнительных персонажей мужского пола, описание полей см. ниже
  femaleVariationTemplateInfo: table - таблица с количеством вариаций для дополнительных персонажей женского пола, описание полей см. ниже
 pets: nil or table of table - при наличии настраиваемого питомца - таблица с таблицами описаний обликов петов, каждая из которых с количеством вариаций для него, описание полей см. ниже, иначе nil. Замечание: для питомца реально используется только поле "face".

поля для таблиц с количеством вариаций:
 skins: таблица флагов, описана ниже - доступные вариации тела
 skinColors: таблица флагов, описана ниже - доступные вариации цвета тела
 hairs: таблица флагов, описана ниже - доступные прически
 hairColors: таблица флагов, описана ниже, или nil - доступные цвета волос, если есть
 faces: таблица флагов, описана ниже - доступные варианты лица
 facials: таблица флагов, описана ниже - доступные типы особенностей (лица или украшений)
 additionals: таблица флагов, описана ниже - доступные варианты татуировок
 morphPresets: таблица флагов, описана ниже - доступные варианты пропорций персонажа

таблица названий:
 table of pair&lt;number (int), boolean&gt; - индексированная [0..] таблица с обозначением платности вариантов. true - вариант платный (серый список)

-- примеры:
local avatarTemplate = changeRoom.GetAvatarTemplate( true )
if avatarTemplate then
 LogInfo( "primary skin count: ", avatarTemplate.primaryVariationCount.skinTexture )
end
</pre>
<p></p>
<h4>Связанные страницы: "CategoryLuaApi" "CategoryChangeRoom" </h4>
<p></p>
<a href="CategoryChangeRoom.html">CategoryChangeRoom</a>
<br><a href="EventChangeRoomCharacterSceneCameraReady.html">EventChangeRoomCharacterSceneCameraReady</a>
<br><a href="EventChangeRoomStarted.html">EventChangeRoomStarted</a>
<br><a href="EventChangeRoomZoomTriggerChanged.html">EventChangeRoomZoomTriggerChanged</a>
<br><a href="FunctionChangeRoomChargenShowHelm.html">FunctionChangeRoomChargenShowHelm</a>
<br><a href="FunctionChangeRoomGetAvatarTemplate.html">FunctionChangeRoomGetAvatarTemplate</a>
<br><a href="FunctionChangeRoomGetCosts.html">FunctionChangeRoomGetCosts</a>
<br><a href="FunctionChangeRoomGetPlayerIndexes.html">FunctionChangeRoomGetPlayerIndexes</a>
<br><a href="FunctionChangeRoomGetSceneAvatarInfo.html">FunctionChangeRoomGetSceneAvatarInfo</a>
<br><a href="FunctionChangeRoomIsZoomEnabled.html">FunctionChangeRoomIsZoomEnabled</a>
<br><a href="FunctionChangeRoomIsZoomOnFace.html">FunctionChangeRoomIsZoomOnFace</a>
<br><a href="FunctionChangeRoomIsZoomOnFar.html">FunctionChangeRoomIsZoomOnFar</a>
<br><a href="FunctionChangeRoomRemoveScene.html">FunctionChangeRoomRemoveScene</a>
<br><a href="FunctionChangeRoomResetSceneCharacterRotation.html">FunctionChangeRoomResetSceneCharacterRotation</a>
<br><a href="FunctionChangeRoomRotateSceneCharacter.html">FunctionChangeRoomRotateSceneCharacter</a>
<br><a href="FunctionChangeRoomSetCameraPath.html">FunctionChangeRoomSetCameraPath</a>
<br><a href="FunctionChangeRoomSetChargenEquipType.html">FunctionChangeRoomSetChargenEquipType</a>
<br><a href="FunctionChangeRoomSetScene.html">FunctionChangeRoomSetScene</a>
<br><a href="FunctionChangeRoomSetSceneAvatarByTemplate.html">FunctionChangeRoomSetSceneAvatarByTemplate</a>
<br><a href="FunctionChangeRoomSetSceneCharacterMouseRotation.html">FunctionChangeRoomSetSceneCharacterMouseRotation</a>
<br><a href="FunctionChangeRoomSetSceneCharacterPos.html">FunctionChangeRoomSetSceneCharacterPos</a>
<br><a href="FunctionChangeRoomSetSceneCharacterScaleFactor.html">FunctionChangeRoomSetSceneCharacterScaleFactor</a>
<br><a href="FunctionChangeRoomSetSceneCharacterVariation.html">FunctionChangeRoomSetSceneCharacterVariation</a>
<br><a href="FunctionChangeRoomToggleZoom.html">FunctionChangeRoomToggleZoom</a>
<br><a href="FunctionChangeRoomUse.html">FunctionChangeRoomUse</a>
<p></p>
<hr>
<a href="CategoryLuaApi.html">CategoryLuaApi</a>
<a href="CategoryFunction.html">CategoryFunction</a>
<a href="CategoryChangeRoom.html">CategoryChangeRoom</a>
<hr>
<p><a href="../Index.html">На главную</a></p>
</body>
</html>
