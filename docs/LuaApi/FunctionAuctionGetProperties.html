
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
            
<html>

<meta content="text/html; charset=UTF-8" http-equiv="content-type">
            
<head>
<title>Пользовательские дополнения - Lua API - FunctionAuctionGetProperties</title>
<link href="LuaApi.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1>Пользовательские дополнения</h1>
<p><a href="../Index.html">На главную</a></p>
<hr>
<p></p>
<h2>auction.GetProperties()</h2>
<p></p>
<p>Возвращает информацию об аукционах.</p>
<p></p>
<p>Если она еще не получена с сервера, то вернет nil и запросит сервер. В ответ прийдет: <a href="EventAuctionProperties.html">EVENT_AUCTION_PROPERTIES</a>.</p>
<p></p>
<p>Если будет получена ошибка, то можно снова запросить сервер, но через некоорое время (сейчас 10 секунд).</p>
<p></p>
<p>Если придет успешное сообщение, то можно снова вызвать <a href="FunctionAuctionGetProperties.html">auction.GetProperties()</a>. В этом случае запросы на сервер больше отсылаться не будут.</p>
<p></p>
<pre>
-- библиотека
auction

-- объявление
function GetProperties()

-- параметры
нет

-- возвращаемые значения
table or nil - если аукцион найден, то таблица с полями:
  pawnFactorPercent: number(int) - залог в процентах
  bidStepInPercent: number(int) - шаг ставки в процентах
  discardingFineInPercent: number(int) - стоимость отмены аукциона в процентах
  taxInPercent: number(int) - такса за аукцион в процентах
  searchPageSize: number(int) - размер страницы поиска
  bidIncreaseTimeSec: number(int) - интервал наращивания ставки в секундах


-- пример
local properties = auction.GetProperties()
if properties then
  local pawn = properties.pawn * price / 100
end
</pre>
<p></p>
<h4>Search: "CategoryLuaApi" "CategoryAuction"</h4>
<p></p>
<a href="EnumAuctionBidResultMsgResult.html">EnumAuctionBidResultMsgResult</a>
<br><a href="EnumAuctionCreateResultMsg.html">EnumAuctionCreateResultMsg</a>
<br><a href="EnumAuctionCreationTime.html">EnumAuctionCreationTime</a>
<br><a href="EnumAuctionDescriptorParticipationStatus.html">EnumAuctionDescriptorParticipationStatus</a>
<br><a href="EnumAuctionDiscardResultMsgResult.html">EnumAuctionDiscardResultMsgResult</a>
<br><a href="EnumAuctionGetParamsResultMsgStatus.html">EnumAuctionGetParamsResultMsgStatus</a>
<br><a href="EnumAuctionGetResultMsgResult.html">EnumAuctionGetResultMsgResult</a>
<br><a href="EnumAuctionOrderField.html">EnumAuctionOrderField</a>
<br><a href="EnumAuctionSearchResultMsgResult.html">EnumAuctionSearchResultMsgResult</a>
<br><a href="EventAuctionBidResult.html">EventAuctionBidResult</a>
<br><a href="EventAuctionCreationResult.html">EventAuctionCreationResult</a>
<br><a href="EventAuctionDiscardResult.html">EventAuctionDiscardResult</a>
<br><a href="EventAuctionProperties.html">EventAuctionProperties</a>
<br><a href="EventAuctionSearchResult.html">EventAuctionSearchResult</a>
<br><a href="EventAuctionUpdateResult.html">EventAuctionUpdateResult</a>
<br><a href="FunctionAuctionBid.html">FunctionAuctionBid</a>
<br><a href="FunctionAuctionBuyout.html">FunctionAuctionBuyout</a>
<br><a href="FunctionAuctionCanCreateForItem.html">FunctionAuctionCanCreateForItem</a>
<br><a href="FunctionAuctionCreateForItem.html">FunctionAuctionCreateForItem</a>
<br><a href="FunctionAuctionDiscard.html">FunctionAuctionDiscard</a>
<br><a href="FunctionAuctionGetAuctionInfo.html">FunctionAuctionGetAuctionInfo</a>
<br><a href="FunctionAuctionGetAuctions.html">FunctionAuctionGetAuctions</a>
<br><a href="FunctionAuctionGetAuctionsCount.html">FunctionAuctionGetAuctionsCount</a>
<br><a href="FunctionAuctionGetAuctionsPage.html">FunctionAuctionGetAuctionsPage</a>
<br><a href="FunctionAuctionGetAuctionsPageCount.html">FunctionAuctionGetAuctionsPageCount</a>
<br><a href="FunctionAuctionGetAuctionState.html">FunctionAuctionGetAuctionState</a>
<br><a href="FunctionAuctionGetItemForegroundLevel.html">FunctionAuctionGetItemForegroundLevel</a>
<br><a href="FunctionAuctionGetProperties.html">FunctionAuctionGetProperties</a>
<br><a href="FunctionAuctionIsCreationInProgress.html">FunctionAuctionIsCreationInProgress</a>
<br><a href="FunctionAuctionIsSearchInProgress.html">FunctionAuctionIsSearchInProgress</a>
<br><a href="FunctionAuctionIsSearchNameValid.html">FunctionAuctionIsSearchNameValid</a>
<br><a href="FunctionAuctionSearch.html">FunctionAuctionSearch</a>
<p></p>
<hr>
<a href="CategoryLuaApi.html">CategoryLuaApi</a>
<a href="CategoryFunction.html">CategoryFunction</a>
<a href="CategoryAuction.html">CategoryAuction</a>
<hr>
<p><a href="../Index.html">На главную</a></p>
</body>
</html>
