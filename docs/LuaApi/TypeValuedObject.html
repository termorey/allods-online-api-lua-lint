
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
            
<html>

<meta content="text/html; charset=UTF-8" http-equiv="content-type">
            
<head>
<title>Пользовательские дополнения - Lua API - TypeValuedObject</title>
<link href="LuaApi.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1>Пользовательские дополнения</h1>
<p><a href="../Index.html">На главную</a></p>
<hr>
<p></p>
<h2> ValuedObject</h2>
<p></p>
<p>Обёртка игрового объекта для подстановки в <a href="TypeValuedText.html"> ValuedText</a>. Специальный вариант userdata. Имеет несколько методов.</p>
<p></p>
<p>Для получения экземпляра <a href="TypeValuedObject.html"> ValuedObject</a> нужно пользоваться специальной функцией Get...ValuedObject( object ).</p>
<p></p>
<p>ValuedObject возвращает текст и изображение, которыми обёртываемый объект может быть представлент в виджете. Так как типов объектов много, то <a href="TypeValuedObject.html"> ValuedObject</a> содержит информацию о типе объекта и идентификатор объекта. Типы идентификаторов могут быть разными для различных типов объектов.</p>
<p></p>
<pre>
Тип объекта               - enum типа                      - тип / значение идентификатора
                          obj:GetType()                    obj:GetId()
--------------------------------------------------------------------------------------------------
Неизвеcтен (тестовый)     VAL_OBJ_TYPE_UNKNOWN             --
Предмет                   VAL_OBJ_TYPE_ITEM                ObjectId / идентификатор предмета
Заклинание                VAL_OBJ_TYPE_SPELL               SpellId / идентификатор ресурса заклинания
Баф                       VAL_OBJ_TYPE_BUFF                BuffId / идентификатор ресурса бафа
Умение                    VAL_OBJ_TYPE_ABILITY             AbilityId / идентификатор ресурса умения
Существо                  VAL_OBJ_TYPE_CREATURE            WString / имя существа
Игрок                     VAL_OBJ_TYPE_PLAYER              UniqueId / уникальный идентификатор персонажа
Маунт                     VAL_OBJ_TYPE_MOUNT               ObjectId / идентификатор маунта
Игровая валюта            VAL_OBJ_TYPE_CURRENCY            CurrencyId / идентификатор игровой валюты
Достижение                VAL_OBJ_TYPE_MEDAL               ObjectId / идентификатор достижения
Раздел доски объявлений   VAL_OBJ_TYPE_POST_TYPE           PostTypeId / идентификатор ресурса раздела доски объявлений
Произвольная lua-таблица  VAL_OBJ_TYPE_TABLE               table
Зона карты                VAL_OBJ_TYPE_ZONE
Анлок                     VAL_OBJ_TYPE_UNLOCK
Модификатор карты         VAL_OBJ_TYPE_MAP_MODIFIER        MapModifierId / идентификатор ресурса модификатора карты
Скилл (умение)            VAL_OBJ_TYPE_SKILL               SkillId / идентификатор ресурса скилла
Продукция рога изобилия   VAL_OBJ_TYPE_STRONGHOLD_PRODUCTION_SETTINGS ProductionSettings / описание производимого "рогом изобилия" личного аллода
Лига личного аллода       VAL_OBJ_TYPE_STRONGHOLD_CATEGORY StrongholdCategory / идентификатор ресурса категории (лиги) личного аллода
</pre>
<p></p>
<p><a href="TypeValuedObject.html"> ValuedObject</a> умеет реагировать на мышиные клики. Чтобы клик проходил только в объекты, а не целиком контролы, используется флаг pickObjectsOnly, определенный для TextView и TextContainer. Также надо использовать флаг pickChildrenOnly, чтобы сообщения не блокировались другими контролами и служебными элементами.</p>
<p></p>
<p>Значения:</p>
<pre>
VAL_OBJ_TYPE_UNKNOWN,
VAL_OBJ_TYPE_ITEM,
VAL_OBJ_TYPE_SPELL,
VAL_OBJ_TYPE_BUFF,
VAL_OBJ_TYPE_ABILITY,
VAL_OBJ_TYPE_CREATURE,
VAL_OBJ_TYPE_PLAYER,
VAL_OBJ_TYPE_MOUNT,
VAL_OBJ_TYPE_CURRENCY,
VAL_OBJ_TYPE_MEDAL,
VAL_OBJ_TYPE_POST_TYPE,
VAL_OBJ_TYPE_WISHMASTER,
VAL_OBJ_TYPE_QUEST,
VAL_OBJ_TYPE_INSTANCED_EVENT,
VAL_OBJ_TYPE_DEVICE,
VAL_OBJ_TYPE_TABLE,
VAL_OBJ_TYPE_ASTRAL_SECTOR,
VAL_OBJ_TYPE_ZONE,
VAL_OBJ_TYPE_UNLOCK,
VAL_OBJ_TYPE_SKILL,
VAL_OBJ_TYPE_MAP_MODIFIER,
VAL_OBJ_TYPE_STRONGHOLD_PRODUCTION_SETTINGS,
VAL_OBJ_TYPE_STRONGHOLD_CATEGORY,
VAL_OBJ_TYPE_CHARACTER_CLASS,
VAL_OBJ_TYPE_LFG_DESTINATION,
VAL_OBJ_TYPE_ACTION_GROUP
</pre>
<p></p>
<h4>Связанные страницы: "CategoryLuaApi" "CategoryValuedText"</h4>
<p></p>
<a href="CategoryValuedText.html">CategoryValuedText</a>
<br><a href="EventValuedObjectClicked.html">EventValuedObjectClicked</a>
<br><a href="EventValuedObjectDoubleClicked.html">EventValuedObjectDoubleClicked</a>
<br><a href="EventValuedObjectMouseOver.html">EventValuedObjectMouseOver</a>
<br><a href="FunctionAvatarGetAbilityValuedObject.html">FunctionAvatarGetAbilityValuedObject</a>
<br><a href="FunctionAvatarGetBuffValuedObject.html">FunctionAvatarGetBuffValuedObject</a>
<br><a href="FunctionCommonCreateValuedObject.html">FunctionCommonCreateValuedObject</a>
<br><a href="FunctionCommonCreateValuedText.html">FunctionCommonCreateValuedText</a>
<br><a href="FunctionCommonFormatFloat.html">FunctionCommonFormatFloat</a>
<br><a href="FunctionCommonFormatInt.html">FunctionCommonFormatInt</a>
<br><a href="FunctionCommonFormatNumber.html">FunctionCommonFormatNumber</a>
<br><a href="FunctionCommonIsEmptyValuedText.html">FunctionCommonIsEmptyValuedText</a>
<br><a href="FunctionCommonIsValuedObject.html">FunctionCommonIsValuedObject</a>
<br><a href="FunctionCommonIsValuedText.html">FunctionCommonIsValuedText</a>
<br><a href="FunctionItemLibGetValuedObject.html">FunctionItemLibGetValuedObject</a>
<br><a href="FunctionMountGetValuedObject.html">FunctionMountGetValuedObject</a>
<br><a href="FunctionSpellLibGetValuedObject.html">FunctionSpellLibGetValuedObject</a>
<br><a href="FunctionTextViewSetValuedText.html">FunctionTextViewSetValuedText</a>
<br><a href="FunctionUnitGetPlayerValuedObject.html">FunctionUnitGetPlayerValuedObject</a>
<br><a href="FunctionUnitGetUnitValuedObject.html">FunctionUnitGetUnitValuedObject</a>
<br><a href="FunctionValuedObjectGetId.html">FunctionValuedObjectGetId</a>
<br><a href="FunctionValuedObjectGetImage.html">FunctionValuedObjectGetImage</a>
<br><a href="FunctionValuedObjectGetShardName.html">FunctionValuedObjectGetShardName</a>
<br><a href="FunctionValuedObjectGetText.html">FunctionValuedObjectGetText</a>
<br><a href="FunctionValuedObjectGetType.html">FunctionValuedObjectGetType</a>
<br><a href="FunctionValuedTextClearValues.html">FunctionValuedTextClearValues</a>
<br><a href="FunctionValuedTextCreateCopy.html">FunctionValuedTextCreateCopy</a>
<br><a href="FunctionValuedTextHasObjects.html">FunctionValuedTextHasObjects</a>
<br><a href="FunctionValuedTextIsEmpty.html">FunctionValuedTextIsEmpty</a>
<br><a href="FunctionValuedTextSetClassVal.html">FunctionValuedTextSetClassVal</a>
<br><a href="FunctionValuedTextSetFormat.html">FunctionValuedTextSetFormat</a>
<br><a href="FunctionValuedTextSetPlainText.html">FunctionValuedTextSetPlainText</a>
<br><a href="FunctionValuedTextSetTagAttributes.html">FunctionValuedTextSetTagAttributes</a>
<br><a href="FunctionValuedTextSetTextValues.html">FunctionValuedTextSetTextValues</a>
<br><a href="FunctionValuedTextSetVal.html">FunctionValuedTextSetVal</a>
<br><a href="FunctionValuedTextToWString.html">FunctionValuedTextToWString</a>
<br><a href="TypeValuedObject.html">TypeValuedObject</a>
<br><a href="TypeValuedText.html">TypeValuedText</a>
<p></p>
<hr>
<a href="CategoryLuaApi.html">CategoryLuaApi</a>
<a href="CategoryTypes.html">CategoryTypes</a>
<a href="CategoryValuedText.html">CategoryValuedText</a>
<hr>
<p><a href="../Index.html">На главную</a></p>
</body>
</html>
